@{
    Layout = "farmerPan"; // Adjust layout if necessary
}
<div class="container mt-4">
    <h3 class="text-center text-primary mb-3">Chat</h3>

    <div class="chat-box" id="chat-box">
        <!-- Example Messages (these can be dynamically added via JavaScript) -->
        <div class="message buyer">
            <div class="message-content">
                <p>Hello, I’m interested in your products. Can you provide more details?</p>
            </div>
        </div>

        <div class="message farmer">
            <div class="message-content">
                <p>Sure! We have fresh organic vegetables and fruits available. What are you looking for?</p>
            </div>
        </div>
    </div>

    <!-- Input Field and Send Button -->
    <div class="input-area">
        <input type="text" class="message-input" placeholder="Type your message..." id="message-input" />
        <button class="send-btn" id="send-btn">Send</button>
    </div>
</div>

<!-- Styles for the Messaging UI -->
<style>
    /* Full screen setup */
    .container {
        max-width: 100%;
        height: 100vh;
        margin: 0;
        background: #f9f9f9;
        padding: 20px;
        display: flex;
        flex-direction: column;
    }

    /* Chat box styling */
    .chat-box {
        flex: 1;
        overflow-y: auto;
        padding: 10px;
        background: white;
        border-radius: 8px;
        box-shadow: inset 0px 0px 5px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column; /* Messages will be stacked bottom to top */
    }

    /* Individual message styling */
    .message {
        display: flex;
        margin: 10px 0;
        max-width: 75%;
    }

    .message-content {
        padding: 10px 15px;
        border-radius: 10px;
        font-size: 14px;
        max-width: 100%;
    }

    /* Buyer Messages */
    .buyer {
        justify-content: flex-start;
    }

    .buyer .message-content {
        background: #d9f7be;
        color: #333;
        border-top-left-radius: 0;
    }

    /* Farmer Messages */
    .farmer {
        justify-content: flex-end;
        text-align: right;
    }

    .farmer .message-content {
        background: #bae7ff;
        color: #333;
        border-top-right-radius: 0;
    }

    /* Input Area */
    .input-area {
        display: flex;
        margin-top: 10px;
        margin-bottom: 20px; /* Added some space between input field and messages */
    }

    .message-input {
        flex: 1;
        padding: 10px;
        border-radius: 20px;
        border: 1px solid #ccc;
        font-size: 14px;
    }

    .send-btn {
        background: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 20px;
        margin-left: 10px;
        cursor: pointer;
        transition: 0.3s;
    }

    .send-btn:hover {
        background: #0056b3;
    }
</style>

<!-- JavaScript to handle sending messages -->
<script>
    document.getElementById('send-btn').addEventListener('click', function() {
        sendMessage();
    });

    document.getElementById('message-input').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });

    function sendMessage() {
        const messageInput = document.getElementById('message-input');
        const messageContent = messageInput.value.trim();

        if (messageContent) {
            // Create new message element
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', 'farmer');
            const messageTextDiv = document.createElement('div');
            messageTextDiv.classList.add('message-content');
            messageTextDiv.innerHTML = `<p>${messageContent}</p>`;

            // Append new message to the chat box
            document.getElementById('chat-box').appendChild(messageDiv);
            messageDiv.appendChild(messageTextDiv);

            // Scroll to the bottom of the chat box
            const chatBox = document.getElementById('chat-box');
            chatBox.scrollTop = chatBox.scrollHeight;

            // Clear the input field
            messageInput.value = '';
        }
    }
</script>
